<!DOCTYPE html>
<html>
<head>
<title>Harder Maze Game</title>
</head>
<body style="font-family: Arial, sans-serif; text-align: center;">

<h1>Harder Maze Game</h1>
<p>Use the **arrow keys** to guide the ball. Don't touch the walls!</p>

<div id="game-area" style="position: relative; width: 500px; height: 350px; margin: 20px auto; background-color: #f0f0f0; border: 2px solid black;">
    <div id="ball" style="position: absolute; width: 15px; height: 15px; background-color: red; border-radius: 50%; left: 10px; top: 10px;"></div>
    
    <div style="position: absolute; background-color: black; left: 50px; top: 0; width: 20px; height: 150px;"></div>
    <div style="position: absolute; background-color: black; left: 50px; top: 180px; width: 300px; height: 20px;"></div>
    <div style="position: absolute; background-color: black; left: 350px; top: 100px; width: 20px; height: 250px;"></div>
    <div style="position: absolute; background-color: black; left: 150px; top: 100px; width: 200px; height: 20px;"></div>
    <div style="position: absolute; background-color: black; left: 0; top: 250px; width: 150px; height: 20px;"></div>
    <div style="position: absolute; background-color: black; left: 250px; top: 280px; width: 100px; height: 20px;"></div>
    <div style="position: absolute; background-color: black; left: 150px; top: 250px; width: 20px; height: 100px;"></div>

    <div style="position: absolute; left: 0; top: 0; padding: 5px; color: green; font-weight: bold;">Start</div>
    <div style="position: absolute; right: 0; bottom: 0; padding: 5px; color: blue; font-weight: bold;">End</div>
</div>

<p id="message" style="font-weight: bold;"></p>
<button onclick="resetGame()">Reset</button>

<script>
    const ball = document.getElementById('ball');
    const gameArea = document.getElementById('game-area');
    const message = document.getElementById('message');
    const walls = gameArea.querySelectorAll('div[style*="background-color: black"]');

    let ballX = 10;
    let ballY = 10;
    const speed = 5;
    let isGameOver = false;

    document.addEventListener('keydown', (e) => {
        if (isGameOver) return;

        switch(e.key) {
            case 'ArrowUp':
                ballY -= speed;
                break;
            case 'ArrowDown':
                ballY += speed;
                break;
            case 'ArrowLeft':
                ballX -= speed;
                break;
            case 'ArrowRight':
                ballX += speed;
                break;
        }

        // Keep ball within game area boundaries
        const gameRect = gameArea.getBoundingClientRect();
        const ballSize = parseInt(ball.style.width);
        
        ballX = Math.max(0, Math.min(ballX, gameRect.width - ballSize));
        ballY = Math.max(0, Math.min(ballY, gameRect.height - ballSize));

        ball.style.left = ballX + 'px';
        ball.style.top = ballY + 'px';

        checkCollision();
    });

    function checkCollision() {
        const ballRect = ball.getBoundingClientRect();
        const gameRect = gameArea.getBoundingClientRect();

        // Check for win condition (exiting the maze at the bottom right)
        if (ballX >= gameRect.width - 25 && ballY >= gameRect.height - 25) {
            endGame(true); // You win
            return;
        }
        
        // Check for wall collisions
        for (const wall of walls) {
            const wallRect = wall.getBoundingClientRect();
            if (
                ballRect.left < wallRect.right &&
                ballRect.right > wallRect.left &&
                ballRect.top < wallRect.bottom &&
                ballRect.bottom > wallRect.top
            ) {
                endGame(false); // You lose
                return;
            }
        }
    }

    function endGame(isWin) {
        isGameOver = true;
        if (isWin) {
            message.textContent = "You win! ðŸŽ‰";
            message.style.color = "green";
        } else {
            message.textContent = "You lose! ðŸ’€";
            message.style.color = "red";
        }
    }

    function resetGame() {
        isGameOver = false;
        message.textContent = "";
        ballX = 10;
        ballY = 10;
        ball.style.left = ballX + 'px';
        ball.style.top = ballY + 'px';
    }
</script>

</body>
</html>
