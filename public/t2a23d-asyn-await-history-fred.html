<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON API Example</title>
</head>
<body>
    
    
    <h1 align="center">t2a22-json-fred.html</h1>
    
    <script>
      const carsAPI = [
        {
          brand: "Ferrari",
          model: "F40",
          year: 1987,
          image: "https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=400"
        },
        {
          brand: "Lamborghini",
          model: "Countach",
          year: 1974,
          image: "https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=400"
        },
        {
          brand: "Porsche",
          model: "911",
          year: 1963,
          image: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400"
        },
        {
          brand: "Ford",
          model: "Mustang",
          year: 1964,
          image: "https://images.unsplash.com/photo-1584345604476-8ec5f5ca2c62?w=400"
        },
        {
          brand: "Chevrolet",
          model: "Corvette",
          year: 1953,
          image: "https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=400"
        }
      ];
      
      async function fetchData(type){
        await new Promise(resolve => setTimeout(resolve, 300));
        
        let data;
        
        if(type === 'car'){
          const randomIndex = Math.floor(Math.random() * carsAPI.length);
          data = carsAPI[randomIndex];
        }
        
        console.log(data);
        
        const myJson = JSON.stringify(data, null, 2);
        document.getElementById('myDiv').innerHTML = `<pre>${myJson}</pre>`;
        document.getElementById('myDiv').innerHTML += `<img src="${data.image}" alt="Random Image" style="max-width: 100%; height: auto;">`;
      }
    </script>
    
    <select id="mySelect" size="1" onchange="fetchData(this.value)">
      <option></option>
      <option value="car">Random Car</option>
    </select><br><br>
    
    <div id="myDiv">...</div>
    
</body>
</html>
