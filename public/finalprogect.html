
<!DOCTYPE html>
<html>
<head>
<title>Labirinto</title>
</head>
<body id="myBody" style="background-repeat:repeat; background-size: 80%; margin: 0;" background="myBackground01.jpg">
<h1 align="center"><font color="red">T4A04 Maze by Fred</font></h1>
<script>
   let myGlobalX = 0
   let myClock

function myHitOther(my1,my2){
   let left1   = parseInt(document.getElementById(my1).style.left)
   let right1  = left1 + parseInt(document.getElementById(my1).style.width)
   let top1    = parseInt(document.getElementById(my1).style.top)   
   let bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
   let left2   = parseInt(document.getElementById(my2).style.left)
   let right2  = left2 + parseInt(document.getElementById(my2).style.width)
   let top2    = parseInt(document.getElementById(my2).style.top)   
   let bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
   if ((right1  >=  left2  ) &&      	   
       (bottom1 >=  top2   ) &&
       (left1   <=  right2 ) &&
       (top1    <=  bottom2) ){
       return true
   }
}

function myCheckHit(){
   // Controlla collisione con tutti i muri
   for(let i = 2; i <= 20; i++){
      if (document.getElementById('myImg' + String(i).padStart(2, '0')) && 
          myHitOther('myImg01','myImg' + String(i).padStart(2, '0'))) {
         document.getElementById('myImg01').style.left = '50px'
         document.getElementById('myImg01').style.top = '190px'
         return
      }
   }
   
   // Vittoria
   if (myHitOther('myImg01','myImg99')) {
       alert('Hai Vinto! Vai al prossimo livello!')
       document.getElementById('myImg01').style.left = '50px'
       document.getElementById('myImg01').style.top = '190px'
       location = 'https://www.google.ca'
   }
}
</script>

<div style="text-align: center; padding: 10px;">
<input type="button" value="Auto Background Left" onclick="{
  clearInterval(myClock)
  let myTemp = '100px 0px'
  myClock = setInterval(function(){
      myGlobalX -= 5
      myTemp =  myGlobalX + 'px 0px'
      document.getElementById('myBody').style.backgroundPosition = myTemp
  }, 100)
}">
<input type="button" value="Right" ontouchstart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 10 + 'px'
  myCheckHit()
}">
<input type="button" value="Down" ontouchstart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) + 10 + 'px'
  myCheckHit()
}">
<input type="button" value="Left" ontouchstart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) - 10 + 'px'
  myCheckHit()
}">
<input type="button" value="Up" ontouchstart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) - 10 + 'px'
  myCheckHit()
}">
</div>

<!-- Giocatore -->
<img id="myImg01" src="myImgNew.jpg" style="position:absolute; width:100px; height:80px; left: 50px; top:190px;">

<!-- Muri del labirinto -->
<!-- Muri verticali -->
<img id="myImg02" src="myImgNew.jpg" style="position:absolute; width:15px; height:250px; left:250px; top:50px;">
<img id="myImg03" src="myImgNew.jpg" style="position:absolute; width:15px; height:180px; left:400px; top:150px;">
<img id="myImg04" src="myImgNew.jpg" style="position:absolute; width:15px; height:200px; left:550px; top:50px;">
<img id="myImg05" src="myImgNew.jpg" style="position:absolute; width:15px; height:150px; left:700px; top:200px;">
<img id="myImg06" src="myImgNew.jpg" style="position:absolute; width:15px; height:220px; left:150px; top:280px;">
<img id="myImg07" src="myImgNew.jpg" style="position:absolute; width:15px; height:180px; left:850px; top:80px;">

<!-- Muri orizzontali -->
<img id="myImg08" src="myImgNew.jpg" style="position:absolute; width:200px; height:15px; left:50px; top:350px;">
<img id="myImg09" src="myImgNew.jpg" style="position:absolute; width:180px; height:15px; left:320px; top:280px;">
<img id="myImg10" src="myImgNew.jpg" style="position:absolute; width:250px; height:15px; left:450px; top:420px;">
<img id="myImg11" src="myImgNew.jpg" style="position:absolute; width:150px; height:15px; left:250px; top:150px;">
<img id="myImg12" src="myImgNew.jpg" style="position:absolute; width:180px; height:15px; left:600px; top:350px;">
<img id="myImg13" src="myImgNew.jpg" style="position:absolute; width:120px; height:15px; left:50px; top:500px;">

<!-- Muri aggiuntivi per complessitÃ  -->
<img id="myImg14" src="myImgNew.jpg" style="position:absolute; width:15px; height:120px; left:320px; top:380px;">
<img id="myImg15" src="myImgNew.jpg" style="position:absolute; width:100px; height:15px; left:750px; top:500px;">
<img id="myImg16" src="myImgNew.jpg" style="position:absolute; width:15px; height:100px; left:500px; top:500px;">
<img id="myImg17" src="myImgNew.jpg" style="position:absolute; width:180px; height:15px; left:50px; top:120px;">
<img id="myImg18" src="myImgNew.jpg" style="position:absolute; width:15px; height:140px; left:650px; top:80px;">
<img id="myImg19" src="myImgNew.jpg" style="position:absolute; width:120px; height:15px; left:400px; top:50px;">
<img id="myImg20" src="myImgNew.jpg" style="position:absolute; width:15px; height:160px; left:900px; top:300px;">

<!-- Traguardo -->
<img id="myImg99" src="myImgNew.jpg" style="position:absolute; width:100px; height:80px; left:850px; top:500px;">

</body>
</html>
